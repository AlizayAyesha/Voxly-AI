<parameter name="content">import React from 'react';
import clsx from 'clsx';
import css from './sidebar.module.scss';

export type TabType = 'history' | 'vocabulary' | 'stats' | 'settings';

interface ChatHistoryItem {
    role: 'user' | 'assistant';
    content: string;
    timestamp: Date;
}

interface SidebarProps {
    activeTab: TabType;
    onTabChange: (tab: TabType) => void;
    vocabularyTips: string[];
    chatHistory: ChatHistoryItem[];
    stats: {
        dailyStreak: number;
        wordsLearned: number;
        conversationsCompleted: number;
        progress: number;
    };
    onOpenQuiz?: () => void;
    className?: string;
}

export const Sidebar: React.FC<SidebarProps> = ({
    activeTab,
    onTabChange,
    vocabularyTips,
    chatHistory,
    stats,
    onOpenQuiz,
    className
}) => {
    const tabs: { id: TabType; label: string; icon: React.ReactNode }[] = [
        {
            id: 'history',
            label: 'Chat History',
            icon: (
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                </svg>
            )
        },
        {
            id: 'vocabulary',
            label: 'Vocabulary',
            icon: (
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" />
                    <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
                </svg>
            )
        },
        {
            id: 'stats',
            label: 'Statistics',
            icon: (
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                    <path d="M18 20V10" />
                    <path d="M12 20V4" />
                    <path d="M6 20v-6" />
                </svg>
            )
        },
    ];

    return (
        <div className={clsx(css.sidebar, className)}>
            <div className={css.tabs}>
                {tabs.map(tab => (
                    <button
                        key={tab.id}
                        className={clsx(css.tab, activeTab === tab.id && css.active)}
                        onClick={() => onTabChange(tab.id)}
                    >
                        {tab.icon}
                        <span>{tab.label}</span>
                    </button>
                ))}
            </div>

            <div className={css.content}>
                {activeTab === 'history' && (
                    <div className={css.historyTab}>
                        <h3 className={css.sectionTitle}>Recent Conversations</h3>
                        {chatHistory.length === 0 ? (
                            <p className={css.emptyText}>No conversations yet</p>
                        ) : (
                            <div className={css.historyList}>
                                {chatHistory.slice(-5).map((item, index) => (
                                    <div key={index} className={css.historyItem}>
                                        <span className={css.historyRole}>
                                            {item.role === 'user' ? 'ðŸ‘¤ You' : 'ðŸ¤– Voxly'}
                                        </span>
                                        <p className={css.historyText}>{item.content}</p>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                )}

                {activeTab === 'vocabulary' && (
                    <div className={css.vocabularyTab}>
                        <h3 className={css.sectionTitle}>Vocabulary Tips</h3>
                        {vocabularyTips.length === 0 ? (
                            <p className={css.emptyText}>Complete a conversation to learn vocabulary!</p>
                        ) : (
                            <ul className={css.vocabList}>
                                {vocabularyTips.map((tip, index) => (
                                    <li key={index} className={css.vocabItem}>
                                        <span className={css.vocabIcon}>ðŸ’¡</span>
                                        {tip}
                                    </li>
                                ))}
                            </ul>
                        )}
                    </div>
                )}

                {activeTab === 'stats' && (
                    <div className={css.statsTab}>
                        <h3 className={css.sectionTitle}>Your Progress</h3>
                        
                        <div className={css.statsGrid}>
                            <div className={css.statCard}>
                                <span className={css.statValue}>{stats.dailyStreak}</span>
                                <span className={css.statLabel}>Day Streak</span>
                            </div>
                            <div className={css.statCard}>
                                <span className={css.statValue}>{stats.wordsLearned}</span>
                                <span className={css.statLabel}>Words Learned</span>
                            </div>
                            <div className={css.statCard}>
                                <span className={css.statValue}>{stats.conversationsCompleted}</span>
                                <span className={css.statLabel}>Conversations</span>
                            </div>

                        <div className={css.progressSection}>
                            <h4 className={css.progressTitle}>Daily Goal Progress</h4>
                            <div className={css.progressBar}>
                                <div 
                                    className={css.progressFill} 
                                    style={{ width: `${stats.progress}%` }} 
                                />
                            </div>
                            <span className={css.progressText}>{stats.progress}% complete</span>
                        </div>

                        <button className={css.quizButton} onClick={onOpenQuiz}>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                <circle cx="12" cy="12" r="10" />
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
                                <line x1="12" y1="17" x2="12.01" y2="17" />
                            </svg>
                            Take a Quick Quiz
                        </button>
                    </div>
                )}
            </div>
    );
};

export default Sidebar;
</parameter>
